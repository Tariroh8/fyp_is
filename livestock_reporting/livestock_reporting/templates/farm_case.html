{% load static %}
{% load leaflet_tags %}
{% load geojson_tags %}
<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Bootstrap demo</title>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet@1.7.1/dist/leaflet.css" />
    <script src="https://cdn.jsdelivr.net/npm/leaflet@1.7.1/dist/leaflet.js"></script>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet", href = "{% static 'css/farm.css' %}">
  </head>
  <body>
    {% include "fnavbar.html" %}
    
    <center>
      <br><br>

    <div class="card1">


    <div class="container-fluid-1">
    <div class="card text-center">
      <div class="card-header">
        a {{ case.spece }} disease case
      </div>
      <div class="card-body">
        <h5 class="card-title">Symptoms</h5>
        <p class="card-text">{% for symptom in case.symptoms.all %}
          <a href="{% url 'symptom_detail' symptom.id %}" class="btn btn-outline-info">
            <img src="{% static 'images/view.svg' %}" alt="Filter" class="me-2" width="20" height="20">{{ symptom }}</a>
        {% endfor %}</p>
        <hr>
        <h5 class="card-title">Description</h5>

        <p class="card-text">{{ case.description }}</p>
        <hr>

        <h5 class="card-title">Region</h5>
        <p class="card-text">{{ case.district }}</p>
        <hr>

        <p class="card-text">latitude {{ case.lat }}  - longitude {{case.long}}</p>



        <a href="{% url 'farm_home' %}" class="btn btn-primary"><img src="{% static 'images/back.svg' %}" alt="Filter" class="me-2" width="20" height="20">Back</a>
        <button id="view-map-btn" class="btn btn-primary"><img src="{% static 'images/map.svg' %}" alt="Filter" class="me-2" width="20" height="20">View Map</button>
      </div>
      <div class="card-footer text-body-secondary">
        {{ case.date|date:"Y-m-d" }} <br>{{ case.date|time:"H:i" }}
      </div>
      <div class="card-body">
        <br>{% if map1.true%}
        <h5 class="card-title">Case Location</h5>
        {% endif %}<br>
        
        <div id="map" style="height: 400px;">
          
        </div>
        
    
    <hr>

    <div id="distance-container"></div>
    </div>
    </div>
    <br><br>
  </div>
</center>

    <!-- Add a container for the map -->
    
      

    <script>
      // Replace 'CASE_LATITUDE' and 'CASE_LONGITUDE' placeholders with the actual values
      var CASE_LATITUDE = {{ case.lat }};
      var CASE_LONGITUDE = {{ case.long }};
    </script>
    <script src="{% static 'js/map.js' %}"></script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
  </body>
</html>
